{% extends "myapp/base.html" %}

{% block title %}Новая запись{% endblock %}

{% block content %}


<!--{% if blog is None %}-->
<!--<h4>Создание новой новости</h4>-->
<!--{% else %}-->
<!--<h4>Редактирование новости: {{ blog.title }}</h4>-->
<!--{% endif %}-->

<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Contest:: {{ contest.name }}</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

    <script type="text/javascript" async
            src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>

</head>

<body>
<div>
    {% if blog is None %}
    <h4>Создание новой новости</h4>
    <form method="post">
        {% csrf_token %}

        <div class="form-group">
            <label for="id_title1">Заголовок новости</label>
            <input type="text" name="title" class="form-control" id="id_title1" required>
        </div>

        <div class="form-group">
            <label for="id_content1">Содержимое вкладки</label>
            <textarea name="content" class="form-control" id="id_content1" rows="10" required></textarea>
        </div>
        <button type="submit" name="create_blog" class="btn btn-primary mt-2">Создать новость</button>
    </form>
    {% else %}
    <h4>Редактирование новости: {{ blog.title }}</h4>
    <form method="post">
        {% csrf_token %}
        <input type="hidden" name="blog_id" value="{{ blog.id }}">

        <div class="form-group">
            <label for="id_title2">Заголовок новости</label>
            <input type="text" name="title" value="{{ blog.title }}" class="form-control" id="id_title2" required>
        </div>

        <div class="form-group">
            <label for="id_content2">Содержимое новости</label>
            <textarea name="content" class="form-control" id="id_content2" rows="10" required>{{ blog.content|escape }}</textarea>
        </div>
        <button type="submit" name="save_blog" class="btn btn-primary mt-2">Сохранить изменения</button>
    </form>

    {% endif %}

</div>
<!--<form method="post">-->
<!--    {% csrf_token %}-->
<!--    <input type="hidden" name="page_id" value="{{ selected_page.id }}">-->

<!--    <div class="form-group">-->
<!--        <label for="id_title">Название вкладки</label>-->
<!--        <input type="text" name="title" value="{{ selected_page.title }}" class="form-control" id="id_title" required>-->
<!--    </div>-->

<!--    <div class="form-group">-->
<!--        <label for="id_content">Содержимое вкладки</label>-->
<!--        <textarea name="content" class="form-control" id="id_content" rows="4" required>{{ selected_page.content|escape }}</textarea>-->
<!--    </div>-->


<!--    <button type="submit" name="save_page" class="btn btn-primary mt-2">Добавить новость</button>-->
<!--</form>-->

</body>

{% endblock %}
{% extends "myapp/base.html" %}

{% block title %}Редактирование профиля{% endblock %}

{% block content %}

<html lang="ru">
<head>
    <meta charset="UTF-8">


    <script type="text/javascript" async
            src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>

    <!-- Подключение Font Awesome через CDN -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <!-- Добавляем ссылку на Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Подключение Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Подключение Font Awesome через CDN -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <!-- Добавляем ссылку на Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Подключение Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Конфигурация MathJax -->
    <script type="text/javascript">
        MathJax = {
            tex: {
                packages: {'[+]': ['textmacros']}, // Подключаем дополнительные пакеты
            },
            options: {
                enableHTML: true, // Включаем поддержку HTML
            }
        };
    </script>

    <script>
        MathJax = {
          tex: {
            inlineMath: [['$', '$'], ['\\(', '\\)']]
          },
          svg: {
            fontCache: 'global'
          }
        };
    </script>
    <script type="text/javascript" id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
    </script>


</head>


<div class="container mt-4">

    <div class="d-flex align-items-center" style="margin-bottom:15px;">
        <i class="bi bi-chat-left-text-fill" style="font-size: 1.4rem; margin-left: 2px; color:#f55607;"></i>
        <h5 class="mb-0 ms-2" style="font-size: 1.3rem; margin-left: 10px; color:#000000;">Редактор профиля участника квиза</h5>
    </div>

    <form method="post">
        {% csrf_token %}

        <!-- Поле для имени -->
        <label for="name">Имя:</label>
        <input type="text" id="name" name="name" value="{{ profile.name }}">

        <!-- Поле для очков -->
        <label for="score">Очки (score):</label>
        <input type="number" id="score" name="score" value="{{ quiz_user.score }}">

        <!-- Поле для комбо-очков -->
        <label for="combo_score">Комбо-очки (combo_score):</label>
        <input type="number" id="combo_score" name="combo_score" value="{{ quiz_user.combo_score }}">

        <!-- Форма для изменения пароля -->
        <h5 class="mt-4">Смена пароля</h5>
        {{ password_form.as_p }}

        <button type="submit" class="btn btn-success">Сохранить изменения</button>
    </form>


    <a href="{% url 'quiz_participants_admin' profile.contest_access.id %}" class="btn btn-secondary mt-2">Назад</a>

</div>


{% endblock %}